{"project":{"profile":{"name":"RespuestaFormulario","description":"Bot hijo que se conecta a la api de ENDESA a modificar el formulario"},"commands":[{"father":"trycatch","command":"{}","option":"","var":"","index":0,"group":"logic","execute":1,"if":"","children":[{"father":"setVar","command":"base64.b64encode(f\"{api_bpm_usuario}:{api_bpm_clave}\".encode('utf-8')).decode('utf-8')","index":0,"execute_debugg":0,"img":"","screenshot":"","line":"1.1","description":"","stop_onerror":false,"run_onerror":false,"stop_robot_onerror":false,"run_onerror_robot":"","run_when":"True","id":"2d4882dc-1e2e-1e91-8fb1-bb9f5857a064","group":"system","mode_live":false,"var":"api_bpm_credential","disabled":false,"execute":2,"message":"","time":"0.007936954498291016","extra":[]},{"father":"setVar","command":"f\"Basic {api_bpm_credential}\"","index":1,"execute_debugg":0,"img":"","screenshot":"","line":"1.2","description":"","stop_onerror":false,"run_onerror":false,"stop_robot_onerror":false,"run_onerror_robot":"","run_when":"True","id":"4e3cbef5-cf7c-971f-a7a6-99338123f696","group":"system","mode_live":false,"var":"api_bpm_authorization","disabled":false,"execute":2,"message":"","time":"0.008002281188964844","extra":[]},{"father":"request","command":"{\"method\":\"put\",\"header\":\"{\\n   \\\"api_id\\\": \\\"{api_bpm_id}\\\",\\n   \\\"api_key\\\": \\\"{api_bpm_key}\\\",\\n   \\\"Authorization\\\": \\\"{api_bpm_authorization}\\\"\\n  }\",\"url\":\"{api_bpm_url_estado}\",\"json\":\"{\\n    \\\"id\\\": \\\"{str_idJoget}\\\",\\n    \\\"estadoTicket\\\": \\\"{str_EstadoSalida}\\\",\\n    \\\"interaccion\\\": \\\"{str_Interaccion}\\\"\\n  }\",\"params\":\"\",\"form\":\"\",\"proxy\":\"\",\"file\":\"\",\"ssl\":true}","disabled":false,"index":2,"execute_debugg":0,"img":"","screenshot":"","line":"1.3","description":"","stop_onerror":false,"run_onerror":false,"stop_robot_onerror":false,"run_onerror_robot":"","run_when":"True","getvar":"consulta_estado_ticket","id":"341c1b61-f802-25fa-c86d-32d672b7fb46","group":"connect","mode_live":false,"execute":2,"message":"","time":"1.4992449283599854","extra":[]},{"father":"request","command":"{\"method\":\"post\",\"header\":\"{\\n   \\\"api_id\\\": \\\"{api_bpm_id}\\\",\\n   \\\"api_key\\\": \\\"{api_bpm_key}\\\",\\n   \\\"Authorization\\\": \\\"{api_bpm_authorization}\\\"\\n  }\",\"url\":\"{api_bpm_url_observaciones}\",\"json\":\"{\\n    \\\"redparent_id\\\": \\\"{str_idJoget}\\\",\\n    \\\"estadoTicket\\\": \\\"{str_EstadoSalida}\\\",\\n    \\\"comentario\\\": \\\"{str_Comentario}\\\"\\n  }\",\"params\":\"\",\"form\":\"\",\"proxy\":\"\",\"file\":\"\",\"ssl\":true}","disabled":false,"index":3,"execute_debugg":0,"img":"","screenshot":"","line":"1.4","description":"","stop_onerror":false,"run_onerror":false,"stop_robot_onerror":false,"run_onerror_robot":"","run_when":"True","getvar":"consulta_estado_ticket","id":"91638e13-b85a-79b7-1eef-1d27854fcddb","group":"connect","mode_live":false,"execute":2,"message":"","time":"0.8672199249267578","extra":[]}],"else":[{"father":"setVar","command":"{'TipoMensaje': '-2', 'Mensaje': 'Error al intentar cambiar el estado del caso en el BPM'}","stop_onerror":false,"run_onerror":false,"stop_robot_onerror":false,"run_onerror_robot":"","run_when":"True","id":"42ad555f-12ae-b4b9-cd50-2df0ccc26b2b","group":"system","mode_live":false,"var":"dicObservacionProcess","children":[],"else":[],"line":"1.1","execute":2,"index":0,"execute_debugg":0,"img":"","message":"","screenshot":"","extra":[]},{"father":"module","command":"{\"module_name\":\"Abai\",\"module\":\"sendLogs\",\"option_\":\"ERROR\",\"input_2\":\"\\\"Error inesperado\\\"\",\"input_4\":\"{strNombreRobot}\"}","index":1,"execute_debugg":0,"img":"","screenshot":"","line":"1.2","description":"","stop_onerror":false,"run_onerror":false,"stop_robot_onerror":false,"run_onerror_robot":"","run_when":"True","module":"sendLogs","id":"caf40b7e-115d-8177-7d36-a4459bf56591","group":"scripts","mode_live":false,"children":[],"else":[],"execute":2,"message":""}],"id":"30cb9afd-067b-21ef-dfb8-49c577fc799f","mode_live":true,"getvar":"","extra_data":null,"screenshot":"","execute_debbug":0,"img":"","line":1,"execute_debugg":0,"message":"trycatch  {}","description":"Controla la ejecucion de el actual bot hijo","time":"0.0070002079010009766","extra":{"res":true}}],"vars":[{"name":"dict_estado","data":"{'MOD_PRODUCTO_ENDESA_MODIFICAR_FORMULARIO': {'fecha_ejecucion': '03-07-2023 18:02:59', 'nombre_proceso': 'MOD_PRODUCTO_ENDESA_MODIFICAR_FORMULARIO', 'estado': 'Error', 'detalle_estado': 'Un error inesperado ocurrio'}}","type":"string","collapse":true,"$$hashKey":"object:346"},{"name":"consulta_estado_ticket","data":"{\"id\":\"f39606eb-3e17-44e8-9637-090f90505611\",\"errors\":{}}","type":"string","category":"","disabled":false},{"name":"api_bpm_credential","data":"RURTQV8wMDc6UjBiMHQxY0BT","type":"string","category":"","disabled":false},{"name":"api_bpm_authorization","data":"Basic RURTQV8wMDc6UjBiMHQxY0BT","type":"string","category":"","disabled":false},{"name":"api_bpm_id","data":"API-4c6202c7-14e9-469f-a45a-a58d3319a72c","type":"string","category":"","disabled":false},{"name":"api_bpm_key","data":"5602757e04cd48c5925652c992b0e4d3","type":"string","category":"","disabled":false},{"name":"api_bpm_usuario","data":"EDSA_007","type":"string","category":"","disabled":false},{"name":"api_bpm_clave","data":"R0b0t1c@S","type":"string","category":"","disabled":false},{"name":"api_bpm_url_estado","data":"https://abaidigitalsuite.abaigroup.com/jw/api/form/Proc_aut_End_Sub","type":"string","category":"","disabled":false},{"name":"api_bpm_url_observaciones","data":"https://abaidigitalsuite.abaigroup.com/jw/api/form/Proc_aut_End_observaciones","type":"string","category":"","disabled":false},{"name":"str_idJoget","data":"6690f9ba-7ebb-41af-abc5-7798a2e74cd0","type":"string","category":"Prueba","disabled":true},{"name":"str_EstadoSalida","data":"Tramitado","type":"string","category":"Prueba","disabled":true},{"name":"str_Comentario","data":"Cuenta bancaria modificada correctamente.","type":"string","category":"Prueba","disabled":true}],"ifs":[],"modules":[{"name":"Abai","status":"Installed","version":"1.2"}],"expose":{"title":{"en":"MOD_PRODUCTO_ENDESA_MODIFICAR_FORMULARIO expose","es":"MOD_PRODUCTO_ENDESA_MODIFICAR_FORMULARIO expose","pr":"MOD_PRODUCTO_ENDESA_MODIFICAR_FORMULARIO expose"},"description":{"en":"Bot hijo que se conecta a la api de ENDESA a modificar el formulario","es":"Bot hijo que se conecta a la api de ENDESA a modificar el formulario","pr":"Bot hijo que se conecta a la api de ENDESA a modificar el formulario"},"form":[]}}}